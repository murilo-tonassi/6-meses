:root{
  --bg: #fff3f6;
  --card: #ffffff;
  --ink: #2b1b1e;
  --pink: #ff88aa;
  --rose: #ff6b9e;
  --soft: #ffd6e3;
  --shadow: 0 10px 30px rgba(255,107,158,0.25);
}

* { box-sizing: border-box; }
html, body { height: 100%; }
body{
  margin:0;
  font-family: Poppins, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
  background: radial-gradient(1200px 800px at 10% -10%, #ffe3ee, transparent),
              radial-gradient(1000px 700px at 100% 10%, #ffd4e7, transparent),
              var(--bg);
  color: var(--ink);
  line-height: 1.6;
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
}

/* Acessibilidade */
.visually-hidden{
  position: absolute !important;
  height: 1px; width: 1px;
  overflow: hidden; clip: rect(1px,1px,1px,1px);
  white-space: nowrap; border: 0; padding: 0; margin: -1px;
}

/* Fundo de corações */
.hearts-bg::before,
.hearts-bg::after{
  content:"";
  position: fixed;
  inset:0;
  background:
    radial-gradient(6px 6px at 10% 20%, rgba(255,107,158,0.35) 60%, transparent 61%) 0 0 / 120px 120px,
    radial-gradient(8px 8px at 70% 40%, rgba(255,136,170,0.35) 60%, transparent 61%) 0 0 / 160px 160px,
    radial-gradient(7px 7px at 30% 80%, rgba(255,214,227,0.7) 60%, transparent 61%) 0 0 / 140px 140px;
  pointer-events:none;
  animation: float 16s linear infinite;
  opacity:.6;
  z-index:-1;
}
.hearts-bg::after{ animation-duration: 22s; opacity:.4; filter: blur(1px); }

@keyframes float{
  from{ transform: translateY(0); }
  to{ transform: translateY(-40px); }
}

/* Hero */
.hero{
  display:grid; place-items:center;
  min-height: 70vh; padding: 48px 16px;
}
.hero-card{
  background: linear-gradient(180deg,#ffffffcc,#fff7fa);
  border: 1px solid #ffdfeb;
  border-radius: 28px;
  box-shadow: var(--shadow);
  padding: 36px 28px 48px;
  text-align:center;
  max-width: 760px; width: 100%;
  position: relative; overflow:hidden;
}
.hero-card .script{
  font-family: "Passions Conflict", cursive;
  font-size: clamp(56px, 8vw, 96px);
  line-height: 1;
  color: var(--rose);
  margin: 0 0 8px;
}
.subtitle{
  margin: 0 0 12px;
  font-size: clamp(16px, 2.6vw, 22px);
  color:#5c3b41;
}

/* “Senha” simbólica (mantive a classe tiny-lock caso ainda use o <details>) */
.tiny-lock{
  margin: 10px auto 18px;
  max-width: 420px;
}
.tiny-lock summary{
  cursor:pointer;
  display:inline-block;
  padding: 8px 14px;
  border-radius: 999px;
  border: 1px dashed #ffb1c8;
  background: #fff;
  font-weight: 600;
}
.tiny-lock[open] summary{ background: #fff0f6; }

/* Lock-box (campo de senha) */
.lock-box{
  border: 1px solid #ffd2e2;
  background: #fff;
  padding: 14px;
  margin-top: 10px; border-radius: 16px;
  max-width: 520px;
  margin-left: auto;
  margin-right: auto;
  text-align: left;
}
.lock-box label{ display:block; font-size: 14px; margin-bottom: 8px; color: #6b3a45; font-weight:600; }
.lock-box input{
  width: 100%; padding: 10px 12px; border-radius: 12px;
  border: 1px solid #ffc2d9; outline: none;
  font-size: 15px;
  transition: box-shadow .15s ease, border-color .15s ease;
  background: linear-gradient(180deg,#fff,#fffafc);
}
.lock-box input::placeholder{ color: #e39fb3; font-weight:500; }
.lock-box input:focus{
  border-color: var(--rose);
  box-shadow: 0 6px 20px rgba(255,107,158,0.12);
}

/* Estilo do botão "Confirmar" */
.lock-box button,
#checkSenha{
  display: inline-block;
  width: 100%;
  margin-top: 10px;
  padding: 10px 14px;
  border-radius: 12px;
  border: none;
  background: linear-gradient(90deg, var(--rose), var(--pink));
  color: #fff;
  font-weight: 700;
  font-size: 15px;
  cursor: pointer;
  box-shadow: var(--shadow);
  transition: transform .08s ease, filter .12s ease, box-shadow .12s ease;
  -webkit-tap-highlight-color: transparent;
}
.lock-box button:hover,
#checkSenha:hover{ filter: brightness(1.03); transform: translateY(-1px); }
.lock-box button:active,
#checkSenha:active{ transform: translateY(0); }
.lock-box button:focus,
#checkSenha:focus{
  outline: none;
  box-shadow: 0 10px 30px rgba(255,107,158,0.25), 0 0 0 4px rgba(255,136,170,0.12);
}

/* Mensagem de feedback (erro/sucesso) */
#msg{
  margin-top: 10px;
  font-weight: 600;
  text-align: center;
  min-height: 20px;
}

/* Botão abrir (mantido caso queira usar) */
.open-btn{
  display:inline-block; margin-top: 14px;
  background: linear-gradient(90deg, var(--rose), var(--pink));
  color: #fff; font-weight: 700;
  padding: 12px 20px; border-radius: 999px;
  box-shadow: var(--shadow);
  cursor: pointer; user-select: none;
  transition: transform .08s ease, filter .2s;
}
.open-btn:hover{ filter: brightness(1.05); }
.open-btn:active{ transform: scale(.98); }

/* Efeitos quando abrir */
#open:checked ~ .confetti{ opacity:1; animation: celebrate 1s ease forwards; }
#open:checked ~ .glow{ opacity:1; }

.confetti, .glow{
  position:absolute; inset:0; pointer-events:none; opacity:0; transition: opacity .6s ease;
}
.confetti{
  background:
    radial-gradient(4px 4px at 20% 30%, #ff86a8 99%, transparent 100%),
    radial-gradient(4px 4px at 40% 70%, #ffd480 99%, transparent 100%),
    radial-gradient(4px 4px at 60% 20%, #8ee3ff 99%, transparent 100%),
    radial-gradient(4px 4px at 80% 60%, #c6ff8e 99%, transparent 100%),
    radial-gradient(4px 4px at 30% 50%, #b28dff 99%, transparent 100%),
    radial-gradient(4px 4px at 70% 40%, #ffb3d6 99%, transparent 100%);
  mix-blend-mode: normal;
}
@keyframes celebrate{
  0%{ transform: translateY(-10px); filter: blur(0); }
  100%{ transform: translateY(0); }
}
.glow{
  background: radial-gradient(600px 200px at 50% 100%, rgba(255,136,170,.35), transparent 60%);
}

/* Seções */
main{ padding: 16px; }
.section-title{
  text-align:center;
  font-size: clamp(22px, 3.2vw, 28px);
  margin: 24px auto 12px;
  color: #7a3c49;
}

/* Carta */
.letter .paper{
  background: #fff;
  border: 1px solid #ffd3e3;
  border-radius: 20px;
  padding: clamp(18px, 3vw, 28px);
  max-width: 860px; margin: 0 auto;
  box-shadow: var(--shadow);
  position: relative;
}
.letter .paper::before{
  content:"";
  position:absolute; inset: 0; pointer-events:none;
  background:
    linear-gradient(transparent 24px, #ffe7f0 24px, #ffe7f0 26px, transparent 26px) repeat-y;
  background-size: 100% 28px;
  opacity:.45;
  border-radius: 20px;
}
.letter p{ position: relative; z-index: 1; margin: 0 0 14px; }
.assinatura{ font-family: "Passions Conflict", cursive; font-size: 40px; color: var(--rose); }

/* Foto destaque */
.photo-feature{
  display:grid; place-items:center;
  margin: 28px 0;
}
.polaroid{
  background:#fff; border: 1px solid #ffd3e3;
  box-shadow: 0 18px 40px rgba(0,0,0,.08);
  border-radius: 12px;
  padding: 14px 14px 50px;
  transform: rotate(-2deg);
  max-width: 380px; width: 96%;
}
.polaroid img{
  display:block; width:100%; height:auto; border-radius: 8px;
  object-fit: cover;
}
.polaroid span{
  display:block; text-align:center; margin-top: 8px;
  font-weight: 600; color:#6b3a45;
}
.caption{
  font-size: 14px; opacity:.75; margin-top: 10px; text-align:center;
}

/* Galeria */
.gallery .polaroid-grid{
  display:grid; gap: 18px;
  grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
  max-width: 980px; margin: 12px auto 0;
}
.polaroid.small{
  padding: 10px 10px 42px;
  transform: rotate(1.2deg);
}
.polaroid.small:nth-child(2){ transform: rotate(-1.5deg); }
.polaroid.small:nth-child(3){ transform: rotate(.6deg); }
.polaroid.small:nth-child(4){ transform: rotate(-.8deg); }
.polaroid.small figcaption{
  display:block; text-align:center; margin-top: 6px; font-size: 14px; color:#5b3240; font-weight:600;
}
.hint{ text-align:center; font-size:12px; opacity:.6; margin-top: 10px; }

/* Timeline */
.timeline .steps{
  list-style:none; padding:0; margin: 20px auto; max-width: 900px;
  counter-reset: step;
  display:grid; gap: 14px;
}
.timeline .steps li{
  background: linear-gradient(0deg, #fff, #fff9fc);
  border:1px solid #ffd7e7; border-radius: 16px; padding: 14px 16px;
  box-shadow: 0 6px 16px rgba(255,139,170,.15);
  position: relative;
}
.timeline .steps li h3{
  margin:0 0 6px; font-size: 16px; color:#7a3c49;
}
.timeline .steps li::before{
  counter-increment: step;
  content: counter(step);
  position:absolute; top: -10px; left: -10px;
  background: var(--rose); color:#fff; font-weight:700;
  width: 32px; height: 32px; display:grid; place-items:center;
  border-radius: 10px; box-shadow: var(--shadow);
}

/* Abas de recadinhos */
.notes .tabs{
  display:flex; gap: 8px; justify-content:center; margin-bottom: 10px; flex-wrap: wrap;
}
.notes .tabs label{
  cursor:pointer; padding: 8px 14px; border-radius: 999px;
  border:1px solid #ffc4d8; background:#fff; font-weight:600;
  transition: background .2s, transform .04s;
}
.notes .tabs label:active{ transform: scale(.98); }

.tab-panels{ max-width: 780px; margin: 0 auto; }
.tab-panels .panel{
  display:none; background:#fff; border:1px solid #ffd3e3; border-radius:16px;
  padding: 14px 16px; box-shadow: var(--shadow);
}

#n1:checked ~ .tabs label[for="n1"],
#n2:checked ~ .tabs label[for="n2"],
#n3:checked ~ .tabs label[for="n3"]{
  background: linear-gradient(90deg, var(--rose), var(--pink));
  color:#fff; border-color: transparent;
}
#n1:checked ~ .tab-panels .panel:nth-child(1){ display:block; }
#n2:checked ~ .tab-panels .panel:nth-child(2){ display:block; }
#n3:checked ~ .tab-panels .panel:nth-child(3){ display:block; }

/* Rodapé */
.footer{
  text-align:center; padding: 24px 10px 60px; color:#70404a;
}
.footer .mini{ font-size:12px; opacity:.7; }

/* Responsividade geral e ajustes para celular */
@media (max-width: 900px){
  .hero{
    min-height: 60vh;
    padding: 34px 14px;
  }
  .hero-card{
    padding: 28px 20px 34px;
    border-radius: 22px;
  }
  .polaroid{ max-width: 320px; }
  .letter .paper{ padding: clamp(14px, 4vw, 22px); }
}

/* Ajustes finos para mobile (celulares) */
@media (max-width: 480px){
  .hero{
    min-height: auto;
    padding: 22px 12px;
  }
  .hero-card{
    padding: 20px 16px 22px;
    border-radius: 18px;
    max-width: 96%;
  }
  .hero-card .script{
    font-size: clamp(36px, 12vw, 56px);
  }
  .subtitle{ font-size: 14px; }

  /* Lock-box - empilha e ocupa largura */
  .lock-box{
    padding: 12px;
  }
  .lock-box label{ font-size: 13px; }
  .lock-box input{ font-size: 15px; padding: 10px; }
  .lock-box button,
  #checkSenha{ font-size: 15px; padding: 12px; }

  /* Carta, galeria e polaroids ficam menores e com menos padding */
  .letter .paper{ padding: 14px; border-radius: 14px; }
  .polaroid{ padding: 10px 10px 40px; transform: none; width: 100%; }
  .polaroid.small{ padding: 8px 8px 34px; }
  .gallery .polaroid-grid{ gap: 12px; grid-template-columns: repeat(auto-fit, minmax(140px, 1fr)); }

  .timeline .steps{ gap: 10px; }
  .timeline .steps li{ padding: 12px; }
  .timeline .steps li h3{ font-size: 15px; }

  .section-title{ margin: 18px 0 8px; font-size: 20px; }

  .footer{ padding-bottom: 40px; }
}

/* Pequena melhoria para tablets */
@media (max-width: 768px) and (min-width: 481px){
  .hero-card .script{ font-size: clamp(44px, 10vw, 72px); }
  .polaroid{ max-width: 340px; }
}

/* Evita imagens estourando a largura */
img{ max-width: 100%; height: auto; display: block; }

/* Garantia: se o botão abrir surpresa for removido, layout não quebra */
.open-btn, .confetti, .glow{ backface-visibility: hidden; -webkit-backface-visibility: hidden; }

/* Pequenos tweaks de usabilidade */
a, button { -webkit-tap-highlight-color: rgba(0,0,0,0.05); }
